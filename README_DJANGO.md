# AutoTrade - Django версия

Сайт для импорта автомобилей из Японии, Кореи и Китая с админкой Django.

## Быстрый старт

### 1. Установите зависимости

```bash
pip install -r requirements.txt
```

### 2. Создайте миграции и примените их

```bash
python manage.py makemigrations
python manage.py migrate
```

### 3. Создайте суперпользователя

```bash
python manage.py createsuperuser
```

Введите имя пользователя, email и пароль для доступа к админке.

### 4. Инициализируйте начальные данные

```bash
python manage.py init_data
```

Эта команда создаст:
- 3 страны: Япония, Корея, Китай
- 10 типов кузова: Седан, Хэчбек, Кроссовер и т.д.

### 5. Запустите сервер

```bash
python manage.py runserver
```

Откройте в браузере:
- **Сайт**: http://127.0.0.1:8000
- **Админка**: http://127.0.0.1:8000/admin

## Использование админки

### Доступ к админке

1. Перейдите на http://127.0.0.1:8000/admin
2. Войдите используя созданного суперпользователя

### Добавление автомобилей

1. В разделе **"Каталог автомобилей"** → **"Автомобили"** нажмите **"Добавить автомобиль"**
2. Заполните форму:
   - **Марка** (например: Toyota)
   - **Модель** (например: Camry)
   - **Год выпуска** (например: 2023)
   - **Страна** - выберите из списка (Япония, Корея, Китай)
   - **Тип кузова** - выберите из списка (Седан, Хэчбек и т.д.)
   - **Цена** (например: 2500000)
   - **Описание** - подробное описание автомобиля
   - **Главное изображение** - загрузите фото автомобиля
   - **Активен** - отметьте, чтобы автомобиль отображался на сайте
3. Нажмите **"Сохранить"**

### Добавление дополнительных изображений

1. Откройте автомобиль для редактирования
2. Внизу страницы в разделе **"Изображения автомобилей"** нажмите **"Добавить еще изображение автомобиля"**
3. Загрузите изображение и укажите альтернативный текст
4. Сохраните

### Управление странами

В разделе **"Страны"** вы можете:
- Добавлять новые страны
- Редактировать описания существующих стран
- Изменять эмодзи флагов

### Управление типами кузова

В разделе **"Типы кузова"** вы можете:
- Добавлять новые типы кузова
- Редактировать существующие

## Структура проекта

```
autotrade/
├── autotrade/          # Настройки проекта Django
│   ├── settings.py    # Настройки
│   ├── urls.py        # Главные URL маршруты
│   └── wsgi.py        # WSGI конфигурация
├── catalog/            # Приложение каталога
│   ├── models.py      # Модели данных
│   ├── admin.py       # Настройка админки
│   ├── views.py       # Представления (views)
│   └── urls.py        # URL маршруты приложения
├── templates/          # HTML шаблоны
├── static/            # Статические файлы (CSS, JS, изображения)
├── media/             # Загруженные пользователями файлы (создается автоматически)
├── manage.py          # Управляющий скрипт Django
└── requirements.txt   # Зависимости проекта
```

## Модели данных

### Country (Страна)
- name - Название страны
- code - Код (japan, korea, china)
- description - Описание
- flag_emoji - Эмодзи флага

### CarType (Тип кузова)
- name - Название типа
- slug - URL-friendly название
- description - Описание

### Car (Автомобиль)
- brand - Марка
- model - Модель
- year - Год выпуска
- country - Связь со страной (ForeignKey)
- car_type - Связь с типом кузова (ForeignKey)
- price - Цена
- description - Описание
- image - Главное изображение
- is_active - Активен ли на сайте
- created_at - Дата добавления
- updated_at - Дата обновления

### CarImage (Изображение автомобиля)
- car - Связь с автомобилем (ForeignKey)
- image - Изображение
- alt_text - Альтернативный текст
- order - Порядок отображения

## Фильтрация на сайте

На странице каталога доступна фильтрация:
- По странам (Япония, Корея, Китай)
- По типам кузова (Седан, Хэчбек, Кроссовер и т.д.)
- Комбинированная фильтрация (страна + тип кузова)

## Папки для медиа файлов

- Загруженные изображения автомобилей: `media/cars/`
- Галерея изображений: `media/cars/gallery/`

Эти папки создаются автоматически при первой загрузке файла.

## Важные замечания

1. **SECRET_KEY**: В production измените SECRET_KEY в `autotrade/settings.py`
2. **DEBUG**: Установите `DEBUG = False` в production
3. **ALLOWED_HOSTS**: Добавьте ваш домен в `ALLOWED_HOSTS` для production
4. **База данных**: По умолчанию используется SQLite. Для production рекомендуется PostgreSQL или MySQL

## Поддержка

Если возникли вопросы, проверьте:
- `DJANGO_SETUP.md` - подробная инструкция по настройке
- Документацию Django: https://docs.djangoproject.com/

